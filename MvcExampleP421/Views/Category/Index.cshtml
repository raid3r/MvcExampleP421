@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
    
*@
@{
    // ViewData - це словник (Dictionary) для передачі даних у View
    ViewData["Title"] = "Категорії";

    // Отримуємо дані з ViewData
    var categories = ViewData["Categories"] as List<Category>;
    var date = ViewData["Date"] as DateTime?;
    var message = ViewData["Message"] as string;

}

<h1>@ViewData["Title"]</h1>

<div>Повідомлення: @message</div>
<div>Дата: @date?.ToString("dd.MM.yyyy")</div>

<div>
    <a class="btn btn-primary" asp-controller="Category" asp-action="Create">Створити нову категорію</a>
</div>

<table class="table table-hover">
    <thead>
        <tr>
            <th>Id</th>
            <th>Name</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in categories)
        {
            <tr>
                <td>@item.Id</td>
                <td>@item.Name</td>
                <td>
                    <div class="d-flex">
                        <a class="btn btn-sm btn-info"
                           asp-controller="Category"
                           asp-action="Edit"
                           asp-route-id="@item.Id"
                        >
                            Редагувати
                        </a>

                        <form method="post" 
                            asp-controller="Category" 
                            asp-action="Delete" 
                            asp-route-id="@item.Id" 
                            class="ms-2">
                            <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Ви впевнені?');">
                                Видалити
                            </button>
                         </form>
                    </div>
                </td>
            </tr>
        }
    </tbody>
</table>